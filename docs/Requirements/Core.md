# 核心模块需求文档

## 文档说明

本文档为 LNCms 项目核心模块的详细需求文档，基于功能描述文档编写，遵循项目开发规范。

**文档版本**: 1.0  
**最后更新**: 2026-01-02 20:00:00 CST  
**编写依据**: [核心模块功能概述](../Features/Core.md)

## 目录

- [概述](#概述)
- [功能需求](#功能需求)
- [非功能需求](#非功能需求)
- [接口需求](#接口需求)
- [数据需求](#数据需求)
- [安全需求](#安全需求)
- [验收标准](#验收标准)

## 概述

### 模块概述

核心模块（Core）为程序核心模块，负责提供整个项目业务逻辑处理、数据处理等核心功能。核心模块作为系统的基础模块，协调各模块之间的通信与交互。

### 技术栈

- **开发语言**: Golang 1.24+
- **开发框架**: Gin
- **数据库**: PostgreSQL
- **缓存**: Redis
- **API 规范**: OpenAPI 3.1.1

### 模块通信

#### API 接口

- 对外提供 RESTful HTTP API 接口服务
- 所有 API 遵循 OpenAPI 3.1.1 规范
- 所有响应统一遵循 Envelope 响应格式（包含 meta、data、errors 三个部分）
- 前端模块通过 RESTful HTTP API 接口与核心模块进行通信
- API 路径使用版本控制：`/api/v1/...`

#### gRPC 通信

- 对外提供 gRPC 接口服务
- 存储模块、日志模块、采集模块通过 gRPC 接口与核心模块进行通信
- 模块间使用 gRPC 均支持双向通信

## 功能需求

### 1. 系统配置

系统配置模块提供网站基础配置、注册配置、站群配置、积分配置、附件配置、邮箱配置和屏蔽配置等功能。

#### 1.1 网站设置

**功能描述**: 对网站基础信息进行配置。

**配置项**:

- **网站名称** (site_name): 字符串类型，必填，长度限制 1-100 字符
- **网站地址** (site_url): URL 类型，必填，格式验证
- **网站关键字** (site_keywords): 字符串类型，可选，长度限制 0-500 字符
- **网站描述** (site_description): 文本类型，可选，长度限制 0-1000 字符
- **版权申明** (site_copyright): 文本类型，可选，长度限制 0-500 字符
- **网站开关** (site_enabled): 布尔类型，必填，默认值 true
- **关闭提示** (site_closed_message): 文本类型，当网站关闭时显示，长度限制 0-1000 字符

**接口需求**:

- `GET /api/v1/system/config/site` - 获取网站设置
- `PUT /api/v1/system/config/site` - 更新网站设置（需要管理员权限）

**数据验证**:

- 网站地址必须为有效的 URL 格式
- 网站开关为 false 时，关闭提示不能为空
- 所有文本字段需要过滤敏感字符和 XSS 攻击

#### 1.2 注册设置

**功能描述**: 对用户注册信息进行配置。

**配置项**:

- **注册开关** (register_enabled): 布尔类型，必填，默认值 true
- **验证码开关** (captcha_enabled): 布尔类型，必填，默认值 true
- **用户密码要求** (password_requirements): JSON 对象类型，包含：
  - 最小长度 (min_length): 整数，默认 8，范围 6-128
  - 最大长度 (max_length): 整数，默认 128，范围 8-128
  - 必须包含大写字母 (require_uppercase): 布尔类型，默认 false
  - 必须包含小写字母 (require_lowercase): 布尔类型，默认 false
  - 必须包含数字 (require_number): 布尔类型，默认 false
  - 必须包含特殊字符 (require_special): 布尔类型，默认 false
- **重复注册设置** (duplicate_register): 枚举类型，可选值：allow（允许）、deny（禁止）、require_approval（需要审核），默认 deny

**接口需求**:

- `GET /api/v1/system/config/register` - 获取注册设置
- `PUT /api/v1/system/config/register` - 更新注册设置（需要管理员权限）

**数据验证**:

- 密码最小长度必须小于等于最大长度
- 当注册开关为 false 时，需要在前端显示关闭提示

#### 1.3 站群设置

**功能描述**: 对网站集群部署进行配置。

**配置项**:

- **主站设置** (master_site): JSON 对象类型，包含：
  - 主站地址 (master_url): URL 类型，必填
  - 主站标识 (master_id): 字符串类型，必填，唯一标识
- **集群管理** (cluster_nodes): JSON 数组类型，包含：
  - 节点标识 (node_id): 字符串类型，必填，唯一
  - 节点地址 (node_url): URL 类型，必填
  - 节点状态 (node_status): 枚举类型，可选值：active（活跃）、inactive（非活跃），默认 active
  - 节点权重 (node_weight): 整数类型，范围 1-100，默认 50

**接口需求**:

- `GET /api/v1/system/config/cluster` - 获取站群设置
- `PUT /api/v1/system/config/cluster` - 更新站群设置（需要管理员权限）
- `POST /api/v1/system/config/cluster/nodes` - 添加集群节点（需要管理员权限）
- `PUT /api/v1/system/config/cluster/nodes/{node_id}` - 更新集群节点（需要管理员权限）
- `DELETE /api/v1/system/config/cluster/nodes/{node_id}` - 删除集群节点（需要管理员权限）

**数据验证**:

- 主站地址和节点地址必须为有效的 URL 格式
- 节点标识必须唯一
- 节点权重必须在有效范围内

#### 1.4 积分设置

**功能描述**: 对网站通用积分进行配置。

**配置项**:

- **积分名称** (points_name): 字符串类型，必填，长度限制 1-50 字符，默认 "积分"
- **注册积分** (register_points): 整数类型，非负整数，默认 0
- **登录积分** (login_points): 整数类型，非负整数，默认 0
- **评论积分** (comment_points): 整数类型，非负整数，默认 0
- **充值积分** (recharge_points_ratio): 数值类型，充值金额与积分比例，默认 1.0（1元=1积分）
- **消费积分** (consume_points_ratio): 数值类型，消费金额与积分比例，默认 1.0（1积分=1元）

**接口需求**:

- `GET /api/v1/system/config/points` - 获取积分设置
- `PUT /api/v1/system/config/points` - 更新积分设置（需要管理员权限）

**数据验证**:

- 积分名称不能为空
- 所有积分数值必须为非负整数或非负浮点数
- 比例数值必须大于 0

#### 1.5 附件设置

**功能描述**: 对上传附件进行配置，包括存储渠道配置和各类附件（图片、音频、视频）的详细设置。

##### 1.5.1 存储渠道

**功能描述**: 对上传渠道进行配置，支持多种存储类型。

**配置项**:

- **渠道名称** (channel_name): 字符串类型，必填，长度限制 1-100 字符，唯一
- **存储类型** (storage_type): 枚举类型，必填，可选值：local（本地存储）、storage_module（存储模块存储）、cloud（云存储服务器）
- **服务器配置** (storage_config): JSON 对象类型，根据存储类型不同而不同

**接口需求**:

- `GET /api/v1/system/config/storage/channels` - 获取存储渠道列表（支持分页）
- `POST /api/v1/system/config/storage/channels` - 创建存储渠道（需要管理员权限）
- `PUT /api/v1/system/config/storage/channels/{channel_id}` - 更新存储渠道（需要管理员权限）
- `DELETE /api/v1/system/config/storage/channels/{channel_id}` - 删除存储渠道（需要管理员权限）

##### 1.5.2 图片附件

**功能描述**: 对图片附件进行设置。

**配置项**:

- **附件开关** (enabled): 布尔类型，必填
- **存储对象** (storage_channel_id): 整数类型，必填，引用存储渠道
- **上传类型** (allowed_types): 字符串数组，支持的图片格式
- **上传大小** (max_size): 整数类型，单位字节
- **存储路径** (storage_path): 字符串类型，存储路径模板
- **转换格式** (convert_format): 字符串类型，可选
- **图片质量** (quality): 整数类型，范围 1-100
- **水印开关** (watermark_enabled): 布尔类型
- **水印类型** (watermark_type): 枚举类型，可选值：text（文字）、image（图片）
- **水印位置** (watermark_position): 枚举类型
- **水印透明度** (watermark_opacity): 浮点数类型，范围 0.0-1.0
- **图片缩略图** (thumbnails): JSON 数组类型，可选

**接口需求**:

- `GET /api/v1/system/config/attachment/image` - 获取图片附件设置
- `PUT /api/v1/system/config/attachment/image` - 更新图片附件设置（需要管理员权限）

##### 1.5.3 音频附件

**功能描述**: 对音频附件进行设置，支持格式转换、转码和水印。

**配置项**: 附件开关、存储对象、上传类型、上传大小、存储路径、转换格式、转码参数（编码器、采样率、声道数、比特率）、水印开关、水印音频文件、水印位置。

**接口需求**:

- `GET /api/v1/system/config/attachment/audio` - 获取音频附件设置
- `PUT /api/v1/system/config/attachment/audio` - 更新音频附件设置（需要管理员权限）

##### 1.5.4 视频附件

**功能描述**: 对视频附件进行设置，支持格式转换、转码和水印。

**配置项**: 附件开关、存储对象、上传类型、上传大小、存储路径、转换类型、转码参数（编码器、帧率、分辨率、比特率）、水印开关、水印类型、水印位置、水印起始时间、水印显示时间。

**接口需求**:

- `GET /api/v1/system/config/attachment/video` - 获取视频附件设置
- `PUT /api/v1/system/config/attachment/video` - 更新视频附件设置（需要管理员权限）

#### 1.6 邮箱设置

**功能描述**: 对邮箱信息进行配置，用于发送邮件通知。

**配置项**: SMTP服务器、SMTP端口、TLS开关、登录用户名、登录密码（加密存储）、发件人邮箱。

**接口需求**:

- `GET /api/v1/system/config/email` - 获取邮箱设置
- `PUT /api/v1/system/config/email` - 更新邮箱设置（需要管理员权限）
- `POST /api/v1/system/config/email/test` - 测试邮箱配置（需要管理员权限）

#### 1.7 屏蔽设置

**功能描述**: 对网站进行信息屏蔽配置。

**配置项**: 黑名单设置（IP地址黑名单、用户ID黑名单）、禁用词汇列表。

**接口需求**:

- `GET /api/v1/system/config/shield` - 获取屏蔽设置
- `PUT /api/v1/system/config/shield` - 更新屏蔽设置（需要管理员权限）

### 2. 模块管理

**功能描述**: 对系统模块进行管理，包括模块注册、启用、禁用和检查。

**功能需求**: 模块注册、模块启用、模块禁用、模块健康检查。

**接口需求**:

- `GET /api/v1/modules` - 获取模块列表（支持分页）
- `GET /api/v1/modules/{module_id}` - 获取模块详情
- `POST /api/v1/modules` - 注册模块（需要管理员权限）
- `PUT /api/v1/modules/{module_id}/enable` - 启用模块（需要管理员权限）
- `PUT /api/v1/modules/{module_id}/disable` - 禁用模块（需要管理员权限）
- `GET /api/v1/modules/{module_id}/health` - 检查模块健康状态

### 3. 上架设置

**功能描述**: 对网站内作品上架后的收费标准和作者收益进行配置。

#### 3.1 付费设置

**功能描述**: 对读者阅读时的收费标准进行配置，支持多设定模式（可添加、修改、删除）。

**配置项**: 内容类型（小说、漫画、音频、视频）、收费类型（按字数、按章节、按图片、按时长等）、收费标准。

**接口需求**:

- `GET /api/v1/pricing/rules` - 获取付费规则列表（支持分页）
- `POST /api/v1/pricing/rules` - 创建付费规则（需要管理员权限）
- `PUT /api/v1/pricing/rules/{rule_id}` - 更新付费规则（需要管理员权限）
- `DELETE /api/v1/pricing/rules/{rule_id}` - 删除付费规则（需要管理员权限）

#### 3.2 收益设置

**功能描述**: 对作者收益进行配置，支持多种收益类型，每种类型支持多条规则。

**收益类型**:
- 全勤收益：针对作者全勤计算获取收益
- 订阅收益：针对读者进行作品订阅获取收益
- 阅读收益：针对读者支付作品章节获取收益
- 收藏收益：针对用户收藏作品获取收益
- 票务收益：针对用户对作品投票获取收益
- 打赏收益：针对用户使用虚拟物品对作品打赏获取收益
- 新手鼓励：针对新作者进行的新手期收益设定

**接口需求**:

- `GET /api/v1/revenue/rules` - 获取收益规则列表（支持分页和类型筛选）
- `POST /api/v1/revenue/rules` - 创建收益规则（需要管理员权限）
- `PUT /api/v1/revenue/rules/{rule_id}` - 更新收益规则（需要管理员权限）
- `DELETE /api/v1/revenue/rules/{rule_id}` - 删除收益规则（需要管理员权限）

#### 3.3 结算设置

**功能描述**: 针对作者结算周期进行设置。

**配置项**: 内容类型、结算类型（按周期结算、按最低支付金额结算）、结算时间、最低支付金额、结算比例。

**接口需求**:

- `GET /api/v1/settlement/config` - 获取结算设置
- `PUT /api/v1/settlement/config` - 更新结算设置（需要管理员权限）

### 4. 权限管理

**功能描述**: 提供完整的权限管理体系，包括角色、用户组、等级、作者类型、作者等级和权限配置。

#### 4.1 角色管理

**功能描述**: 对网站管理角色进行管理。

**配置项**: 角色名称、角色描述。

**接口需求**: 标准的 CRUD 接口（列表、详情、创建、更新、删除），需要管理员权限。

#### 4.2 用户组管理

**功能描述**: 对网站用户组进行管理。

**配置项**: 用户组名称、用户组描述。

**接口需求**: 标准的 CRUD 接口，需要管理员权限。

#### 4.3 等级管理

**功能描述**: 对网站前台用户等级管理。

**配置项**: 等级名称、等级描述、等级达成条件（积分、货币、充值数、消费数、评论数、阅读数等可选参数）。

**接口需求**: 标准的 CRUD 接口，需要管理员权限。

#### 4.4 作者类型管理

**功能描述**: 对网站作者类型进行管理。作者类型用于标识作者可以创作的内容类型（小说、漫画、音频、视频等），一个作者可以拥有多个类型。

**配置项**: 类型代码、类型名称、类型描述、显示顺序。

**接口需求**: 标准的 CRUD 接口，需要管理员权限。

#### 4.5 作者等级管理

**功能描述**: 对网站作者等级管理。

**配置项**: 作者等级名称、作者等级描述、作者等级达成条件（作品数、平均评分、推荐数、投票数、评论数、打赏数等可选参数）。

**接口需求**: 标准的 CRUD 接口，需要管理员权限。

#### 4.6 权限管理

**功能描述**: 对各分组、等级进行权限管理。

**配置项**: 权限名称、权限目标。

**接口需求**:

- `GET /api/v1/permissions` - 获取权限列表
- `GET /api/v1/permissions/groups/{group_id}` - 获取组权限
- `PUT /api/v1/permissions/groups/{group_id}` - 更新组权限（需要管理员权限）

### 5. 用户管理

**功能描述**: 可对网站用户进行管理。

**功能需求**: 用户添加、用户信息修改、用户状态管理、用户封禁管理、用户权限管理、用户审核、用户密码修改、用户删除。

**接口需求**:

- `GET /api/v1/users` - 获取用户列表（支持分页、筛选、排序）
- `GET /api/v1/users/{user_id}` - 获取用户详情
- `POST /api/v1/users` - 创建用户（需要管理员权限）
- `PUT /api/v1/users/{user_id}` - 更新用户信息（需要管理员权限）
- `PUT /api/v1/users/{user_id}/status` - 更新用户状态（需要管理员权限）
- `PUT /api/v1/users/{user_id}/ban` - 封禁/解封用户（需要管理员权限）
- `PUT /api/v1/users/{user_id}/password` - 修改用户密码（需要管理员权限）
- `PUT /api/v1/users/{user_id}/approve` - 审核用户（需要管理员权限）
- `DELETE /api/v1/users/{user_id}` - 删除用户（需要管理员权限）

### 6. 作者管理

**功能描述**: 可对网站作者进行管理。

**功能需求**: 作者添加、作者信息修改、作者状态管理、作者封禁管理、作者审核、作者奖励、作者惩罚、作者删除。

**接口需求**:

- `GET /api/v1/authors` - 获取作者列表（支持分页、筛选、排序）
- `GET /api/v1/authors/{author_id}` - 获取作者详情
- `POST /api/v1/authors` - 创建作者（需要管理员权限）
- `PUT /api/v1/authors/{author_id}` - 更新作者信息（需要管理员权限）
- `PUT /api/v1/authors/{author_id}/reward` - 奖励作者（需要管理员权限）
- `PUT /api/v1/authors/{author_id}/punish` - 惩罚作者（需要管理员权限）
- `DELETE /api/v1/authors/{author_id}` - 删除作者（需要管理员权限）

### 7. 内容管理

**功能描述**: 提供完整的内容管理功能，包括分类、地区、标签管理，以及小说、漫画、音频、视频等各类内容的管理。

#### 7.1 分类管理

**功能描述**: 对分类进行管理。

**功能需求**: 分类添加（分类名称、分类描述、上级分类、分类类型、分类排序）、分类修改、分类删除。

**接口需求**: 标准的 CRUD 接口，支持树形结构查询，需要管理员权限。

#### 7.2 地区管理

**功能描述**: 对地区进行管理。

**功能需求**: 地区添加（地区名称、上级地区、地区描述、地区排序）、地区修改、地区删除。

**接口需求**: 标准的 CRUD 接口，支持树形结构查询，需要管理员权限。

#### 7.3 标签管理

**功能描述**: 对标签进行管理。

**功能需求**: 标签添加（标签名称、标签描述）、标签修改、标签删除。

**接口需求**: 标准的 CRUD 接口，需要管理员权限。

#### 7.4 小说管理

**功能描述**: 提供小说完整管理功能，包括小说信息、分卷、章节和章节附件管理。

**子功能**: 小说信息管理、小说分卷管理、小说章节管理、小说章节附件管理。

**接口需求**: 针对每个子功能提供标准的 CRUD 接口，需要相应权限。

#### 7.5 漫画管理

**功能描述**: 提供漫画完整管理功能，包括漫画信息、章节和章节图片管理。

**子功能**: 漫画信息管理、漫画章节管理、漫画章节图片管理。

**接口需求**: 针对每个子功能提供标准的 CRUD 接口，需要相应权限。

#### 7.6 音频管理

**功能描述**: 提供音频完整管理功能，包括音频信息、分季、分集和音频文件管理。

**子功能**: 音频信息管理、音频分季管理、音频分集管理、音频文件管理。

**接口需求**: 针对每个子功能提供标准的 CRUD 接口，需要相应权限。

#### 7.7 视频管理

**功能描述**: 提供视频完整管理功能，包括视频信息、分季、分集和视频文件管理。

**子功能**: 视频信息管理、视频分季管理、视频分集管理、视频文件管理。

**接口需求**: 针对每个子功能提供标准的 CRUD 接口，需要相应权限。

### 8. 消费管理

**功能描述**: 提供充值、消费、虚拟物品、票务、退费、流水和作者收益等完整的消费管理功能。

**子功能**: 渠道管理、虚拟物品管理、票务管理、退费管理、流水管理、作者收益管理。

**接口需求**: 针对每个子功能提供相应的查询、管理接口，需要相应权限。

### 9. 互动管理

**功能描述**: 提供评论和弹幕等用户互动功能的管理。

#### 9.1 评论管理

**功能描述**: 对网站内评论数据进行管理，支持小说、漫画、音频、视频等不同类型内容的评论。

**子功能**: 小说评论（小说评论、小说章节评论、小说章节段评）、漫画评论（漫画评论、漫画章节评论）、音频评论（音频评论、音频分集评论）、视频评论（视频评论、视频分集评论）。

**接口需求**: 
- 评论列表和详情接口为公开接口，不需要认证
- 评论创建和更新接口需要用户认证
- 评论删除接口需要管理员权限

#### 9.2 弹幕管理

**功能描述**: 对弹幕类评论进行管理。

**功能需求**: 漫画章节弹幕管理、视频弹幕管理。

**接口需求**: 标准的 CRUD 接口，列表和详情为公开接口，创建更新需要用户认证，删除需要管理员权限。

### 10. 管理中心

**功能描述**: 针对拥有管理权限的角色用户操作中心。

**子功能**: 组织架构管理、作者管理、作品管理、结算管理。

**接口需求**: 针对每个子功能提供相应的管理接口，需要相应权限。

### 11. 备份恢复

**功能描述**: 提供数据备份和恢复功能。

#### 11.1 备份管理

**功能描述**: 可对网站数据进行备份管理。

**子功能**: 备份渠道配置、自动备份配置。

**接口需求**: 标准的 CRUD 接口，需要管理员权限。

#### 11.2 恢复管理

**功能描述**: 对网站进行数据恢复。

**功能需求**: 支持数据恢复、文件恢复、选择恢复、全量恢复等类型。

**接口需求**: 恢复操作接口，需要管理员权限。

## 非功能需求

### 性能需求

- **API 响应时间**: 正常情况下的 API 接口响应时间应控制在 500ms 以内
- **数据库查询时间**: 数据库查询响应时间应控制在 100ms 以内
- **缓存查询时间**: Redis 缓存查询响应时间应控制在 10ms 以内
- **并发处理**: 支持高并发请求，合理使用 goroutine 和 channel

### 可用性需求

- **系统可用性**: 系统可用性应达到 99.9% 以上
- **错误处理**: 所有错误都应被正确处理，不应忽略错误
- **日志记录**: 关键操作和错误应记录日志，便于问题排查

### 可扩展性需求

- **模块化设计**: 采用模块化设计，支持功能扩展
- **接口设计**: API 接口设计应考虑未来扩展，保持向后兼容
- **数据库设计**: 数据库表结构设计应考虑未来扩展需求

### 可维护性需求

- **代码质量**: 代码应遵循 Golang 编码规范，圈复杂度不超过 15
- **测试覆盖**: 核心业务逻辑代码覆盖率应达到 80% 以上
- **文档完善**: 提供完善的 API 文档和代码注释

## 接口需求

### API 接口规范

- **API 版本**: 使用 URL 路径进行版本控制，格式为 `/api/v1/...`
- **HTTP 方法**: 使用标准的 HTTP 方法（GET、POST、PUT、DELETE、PATCH）
- **响应格式**: 所有 API 响应必须使用 Envelope 格式，包含 meta、data、errors 三个部分
- **分页支持**: 列表接口必须支持分页，使用 page 和 limit 参数
- **错误处理**: 使用合适的 HTTP 状态码，错误消息使用中文

### gRPC 接口规范

- **服务定义**: 使用 Protocol Buffers 定义 gRPC 服务
- **双向通信**: 支持双向流式通信
- **错误处理**: 使用 gRPC 标准错误码和错误消息

## 数据需求

### 数据库要求

- **数据库类型**: PostgreSQL
- **命名规范**: 
  - 表名使用小写字母、数字和下划线，使用复数形式
  - 字段名使用小写字母、数字和下划线
  - 主键统一使用 `id` 作为字段名
  - 外键字段格式为 `关联表名_id`
  - 时间戳字段使用 `_at` 后缀（如 `created_at`、`updated_at`）
  - 布尔类型字段使用 `is_`、`has_`、`can_` 等前缀

### 缓存要求

- **缓存类型**: Redis
- **缓存策略**: 
  - 配置信息应进行缓存
  - 热点数据应进行缓存
  - 缓存应设置合理的过期时间
  - 缓存更新应保证数据一致性

## 安全需求

### 身份认证

- **密码安全**: 使用强密码策略，密码使用 bcrypt 等安全哈希算法存储
- **会话管理**: 使用安全的会话标识符，设置合理的会话超时时间
- **Token 认证**: API 接口支持 Token 认证（JWT 或 Bearer Token）

### 权限控制

- **最小权限原则**: 用户只应获得执行其任务所需的最小权限
- **角色分离**: 区分普通用户、管理员、超级管理员等角色
- **资源级授权**: 验证用户对资源的访问权限

### 数据安全

- **输入验证**: 所有用户输入必须进行验证和清理
- **SQL 注入防护**: 使用参数化查询，防止 SQL 注入攻击
- **XSS 防护**: 对所有输出进行编码，防止 XSS 攻击
- **CSRF 防护**: 使用 CSRF Token 防护跨站请求伪造攻击

### 敏感数据处理

- **加密存储**: 敏感信息（如密码、Token）应加密存储
- **传输安全**: 所有敏感信息必须通过 HTTPS 传输
- **日志安全**: 不在日志中记录敏感信息（如密码、Token）

## 验收标准

### 功能验收

- 所有功能需求均已实现
- 所有接口需求均已实现并符合规范
- 所有数据验证规则均已正确实现

### 性能验收

- API 响应时间符合性能需求
- 数据库查询时间符合性能需求
- 系统支持预期的并发用户数

### 质量验收

- 代码通过静态代码检查（golangci-lint、go vet）
- 代码测试覆盖率符合要求（核心业务逻辑 80% 以上）
- 代码圈复杂度符合要求（不超过 15）

### 安全验收

- 通过安全代码审查
- 通过安全测试（如 SQL 注入、XSS 等漏洞测试）
- 敏感数据正确加密存储和传输

---

**文档版本**: 1.0  
**最后更新**: 2026-01-02 20:00:00 CST
