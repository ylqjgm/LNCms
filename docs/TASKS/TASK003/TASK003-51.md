# TASK003-51: 实现模块类型和状态枚举定义

## 任务信息

**任务编号**: TASK003-51  
**父任务**: TASK003  
**任务名称**: 实现模块类型和状态枚举定义  
**版本信息**: v2.0.0  
**当前状态**: 计划中  
**创建时间**: 2026-01-03 14:06:02 CST

## 任务描述

实现模块类型和状态枚举定义。包括：1) 定义模块类型枚举（ModuleType）；2) 定义模块状态枚举（ModuleStatus）；3) 实现枚举的字符串转换方法。所有代码必须遵循Golang编码规范。

## 依赖任务

无

## 实现指南

### 1. 定义模块类型枚举

在 `internal/pkg/model/module.go` 文件中定义ModuleType枚举：

```go
package model

// ModuleType 模块类型
type ModuleType string

const (
    // ModuleTypeStorage 存储模块
    ModuleTypeStorage ModuleType = "storage"
    
    // ModuleTypeLog 日志模块
    ModuleTypeLog ModuleType = "log"
    
    // ModuleTypeCollector 采集模块
    ModuleTypeCollector ModuleType = "collector"
    
    // ModuleTypeFrontend 前端模块
    ModuleTypeFrontend ModuleType = "frontend"
    
    // ModuleTypeCore 核心模块
    ModuleTypeCore ModuleType = "core"
)

// String 方法用于将ModuleType转换为字符串
func (mt ModuleType) String() string {
    return string(mt)
}

// IsValid 验证ModuleType是否有效
func (mt ModuleType) IsValid() bool {
    switch mt {
    case ModuleTypeStorage, ModuleTypeLog, ModuleTypeCollector, ModuleTypeFrontend, ModuleTypeCore:
        return true
    default:
        return false
    }
}
```

### 2. 定义模块状态枚举

在同一个文件中定义ModuleStatus枚举：

```go
// ModuleStatus 模块状态
type ModuleStatus string

const (
    // ModuleStatusActive 激活状态
    ModuleStatusActive ModuleStatus = "active"
    
    // ModuleStatusInactive 未激活状态
    ModuleStatusInactive ModuleStatus = "inactive"
    
    // ModuleStatusError 错误状态
    ModuleStatusError ModuleStatus = "error"
)

// String 方法用于将ModuleStatus转换为字符串
func (ms ModuleStatus) String() string {
    return string(ms)
}

// IsValid 验证ModuleStatus是否有效
func (ms ModuleStatus) IsValid() bool {
    switch ms {
    case ModuleStatusActive, ModuleStatusInactive, ModuleStatusError:
        return true
    default:
        return false
    }
}
```

### 3. 完整代码示例

完整的枚举定义代码：

```go
package model

// ModuleType 模块类型
type ModuleType string

const (
    // ModuleTypeStorage 存储模块
    ModuleTypeStorage ModuleType = "storage"
    
    // ModuleTypeLog 日志模块
    ModuleTypeLog ModuleType = "log"
    
    // ModuleTypeCollector 采集模块
    ModuleTypeCollector ModuleType = "collector"
    
    // ModuleTypeFrontend 前端模块
    ModuleTypeFrontend ModuleType = "frontend"
    
    // ModuleTypeCore 核心模块
    ModuleTypeCore ModuleType = "core"
)

// String 方法用于将ModuleType转换为字符串
func (mt ModuleType) String() string {
    return string(mt)
}

// IsValid 验证ModuleType是否有效
func (mt ModuleType) IsValid() bool {
    switch mt {
    case ModuleTypeStorage, ModuleTypeLog, ModuleTypeCollector, ModuleTypeFrontend, ModuleTypeCore:
        return true
    default:
        return false
    }
}

// ModuleStatus 模块状态
type ModuleStatus string

const (
    // ModuleStatusActive 激活状态
    ModuleStatusActive ModuleStatus = "active"
    
    // ModuleStatusInactive 未激活状态
    ModuleStatusInactive ModuleStatus = "inactive"
    
    // ModuleStatusError 错误状态
    ModuleStatusError ModuleStatus = "error"
)

// String 方法用于将ModuleStatus转换为字符串
func (ms ModuleStatus) String() string {
    return string(ms)
}

// IsValid 验证ModuleStatus是否有效
func (ms ModuleStatus) IsValid() bool {
    switch ms {
    case ModuleStatusActive, ModuleStatusInactive, ModuleStatusError:
        return true
    default:
        return false
    }
}
```

## 验收标准

1. **枚举定义正确**
   - ModuleType枚举正确定义，包含所有模块类型
   - ModuleStatus枚举正确定义，包含所有模块状态
   - 常量值使用小写字符串

2. **方法实现正确**
   - String方法正确实现
   - IsValid方法正确实现
   - 所有枚举值都能正确验证

3. **代码规范符合要求**
   - 代码通过golangci-lint检查，无错误和警告
   - 代码注释完整，使用中文
   - 遵循Golang编码规范

## 相关文件

- `internal/pkg/model/module.go` - Module模型和枚举定义
- `docs/Requirements/Core.md` - 核心模块需求文档
- `.cursor/rules/golang.mdc` - Golang编码规范

## Git 提交信息任务

任务完成后，需要生成 Git 提交信息。请根据实际修改内容生成合适的提交信息。

---

**文档版本**: 2.0.0  
**最后更新**: 2026-01-03 14:06:02 CST

